<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Practice AI Coach</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body class="bg-[#0F1115] text-[#EDEFF2] p-4">

<h1 class="text-2xl font-bold mb-4">üèÄ Practice Command Center</h1>

<!-- NAV -->
<div class="flex gap-2 mb-6">
  <button onclick="showTab('home')" class="bg-[#3B82F6] px-4 py-2 rounded">Home</button>
  <button onclick="showTab('roster')" class="bg-[#22C55E] px-4 py-2 rounded">Roster</button>
  <button onclick="showTab('practice')" class="bg-[#A855F7] px-4 py-2 rounded">Practice</button>
  <button onclick="showTab('progress')" class="bg-[#FACC15] text-black px-4 py-2 rounded">Progress</button>
</div>

<!-- HOME -->
<div id="home" class="tab">
  <div class="grid grid-cols-2 gap-4">

    <button onclick="showTab('practice')" class="bg-[#3B82F6] p-5 rounded-xl font-bold">
      Generate Practice
    </button>

    <button onclick="showAsk()" class="bg-[#A855F7] p-5 rounded-xl font-bold">
      Ask Coach
    </button>

    <button onclick="showTab('roster')" class="bg-[#22C55E] p-5 rounded-xl font-bold">
      Roster
    </button>

    <button onclick="showTab('progress')" class="bg-[#FACC15] text-black p-5 rounded-xl font-bold">
      Progress
    </button>

  </div>

  <div id="askBox" class="hidden mt-6 bg-[#171A21] p-4 rounded">
    <h2 class="font-semibold mb-2">Ask the Coach</h2>
    <input id="askInput" placeholder="What should we work on today?"
      class="w-full p-2 rounded bg-black text-white"/>
    <button onclick="answerAsk()" class="mt-2 bg-[#22C55E] px-4 py-2 rounded">
      Ask
    </button>
    <p id="askAnswer" class="mt-3 text-gray-400"></p>
  </div>
</div>

<!-- ROSTER -->
<div id="roster" class="tab hidden">

<h2 class="text-xl font-bold mb-3">Roster</h2>

<div class="bg-[#171A21] p-4 rounded mb-4">
  <input id="playerName" placeholder="Name" class="bg-black p-2 rounded w-full mb-2"/>
  <input id="height" placeholder="Height (inches)" class="bg-black p-2 rounded w-full mb-2"/>
  <input id="weight" placeholder="Weight" class="bg-black p-2 rounded w-full mb-2"/>

  <div class="grid grid-cols-3 gap-2">
    <input id="BH" placeholder="BH" class="bg-black p-2 rounded"/>
    <input id="PD" placeholder="PD" class="bg-black p-2 rounded"/>
    <input id="SH" placeholder="SH" class="bg-black p-2 rounded"/>
    <input id="FN" placeholder="FN" class="bg-black p-2 rounded"/>
    <input id="DF" placeholder="DF" class="bg-black p-2 rounded"/>
    <input id="RB" placeholder="RB" class="bg-black p-2 rounded"/>
    <input id="ATH" placeholder="ATH" class="bg-black p-2 rounded"/>
  </div>

  <button onclick="addPlayer()" class="mt-3 bg-[#22C55E] px-4 py-2 rounded">
    Add Player
  </button>
</div>

<ul id="rosterList"></ul>

</div>

<!-- PRACTICE -->
<div id="practice" class="tab hidden">

<h2 class="text-xl font-bold mb-3">Generate Practice</h2>

<button onclick="generatePractice()" class="bg-[#3B82F6] p-4 rounded w-full font-bold mb-4">
  BUILD TODAY‚ÄôS PRACTICE
</button>

<div id="practiceOutput"></div>

</div>

<!-- PROGRESS -->
<div id="progress" class="tab hidden">

<h2 class="text-xl font-bold mb-3">Monthly Progress</h2>

<canvas id="skillChart"></canvas>

</div>

<script>

let roster = JSON.parse(localStorage.getItem("roster")) || [];

function saveRoster(){
  localStorage.setItem("roster", JSON.stringify(roster));
}

function showTab(id){
  document.querySelectorAll(".tab").forEach(t=>t.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

function showAsk(){
  document.getElementById("askBox").classList.toggle("hidden");
}

function answerAsk(){
  document.getElementById("askAnswer").innerText =
    "Priority today: Help-side defense and post feeds. Conditioning trending flat ‚Äî recommend strict defensive emphasis.";
}

/* -------- ROSTER ---------- */

function addPlayer(){
  const p = {
    name: playerName.value,
    height: height.value,
    weight: weight.value,
    BH: BH.value,
    PD: PD.value,
    SH: SH.value,
    FN: FN.value,
    DF: DF.value,
    RB: RB.value,
    ATH: ATH.value
  };

  roster.push(p);
  saveRoster();
  renderRoster();
}

function renderRoster(){
  const list = document.getElementById("rosterList");
  list.innerHTML = "";
  roster.forEach(p=>{
    const li = document.createElement("li");
    li.className="bg-[#171A21] p-3 rounded mb-2";
    li.innerHTML = `${p.name} | ATH ${p.ATH}`;
    list.appendChild(li);
  });
}

renderRoster();

/* -------- PRACTICE ---------- */

function generatePractice(){

  practiceOutput.innerHTML = `
  <div class="bg-[#171A21] p-4 rounded mb-3">
    <h3 class="font-bold">0:00‚Äì10: Shell Defense</h3>
    <p class="text-gray-400">Two feet in paint ‚Ä¢ bump cutters ‚Ä¢ rebound</p>
  </div>

  <div class="bg-[#171A21] p-4 rounded mb-3">
    <h3 class="font-bold">10‚Äì25: 4‚Äì1 Motion Post Feeds</h3>
    <p class="text-gray-400">Wing entry ‚Ä¢ seal ‚Ä¢ kick-out</p>
  </div>

  <div class="bg-[#171A21] p-4 rounded mb-3">
    <h3 class="font-bold">25‚Äì40: Press to Man Conversion</h3>
    <p class="text-gray-400">2-2-1 alignment ‚Üí sprint back</p>
  </div>

  <div class="bg-[#171A21] p-4 rounded mb-3">
    <h3 class="font-bold">40‚Äì55: Quarter Conditioning</h3>
    <p class="text-gray-400">Sprint lanes ‚Ä¢ finish ‚Ä¢ FT fatigue</p>
  </div>
  `;
}

/* -------- CHART ---------- */

const ctx = document.getElementById('skillChart');

new Chart(ctx, {
  type: 'line',
  data: {
    labels: ['Week 1','Week 2','Week 3','Week 4'],
    datasets: [{
      label: 'Defense',
      data: [4,5,6,7],
      borderColor: '#22C55E'
    }]
  }
});

</script>

</body>
</html>
